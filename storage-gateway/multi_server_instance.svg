<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1610px" preserveAspectRatio="none" style="width:866px;height:1610px;" version="1.1" viewBox="0 0 866 1610" width="866px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lgphy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="185.7969" style="stroke: #000000; stroke-width: 2.0;" width="296" x="23" y="55.2969"/><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="469" x="246" y="255.0938"/><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="304.4609" style="stroke: #000000; stroke-width: 2.0;" width="601" x="246" y="402.7578"/><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="833.5391" style="stroke: #000000; stroke-width: 2.0;" width="844" x="13" y="721.2188"/><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="175.7969" style="stroke: #000000; stroke-width: 2.0;" width="824" x="23" y="745.3516"/><rect fill="#FFFFFF" height="582.6719" style="stroke: none; stroke-width: 1.0;" width="844" x="13" y="928.1484"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="844" x="13" y="1510.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="70" y1="38.2969" y2="1296.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="70" x2="70" y1="1296.4141" y2="1350.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="70" y1="1350.0234" y2="1571.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282" x2="282" y1="38.2969" y2="1296.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="282" x2="282" y1="1296.4141" y2="1350.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282" x2="282" y1="1350.0234" y2="1571.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="494.5" y1="38.2969" y2="1296.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="494.5" x2="494.5" y1="1296.4141" y2="1350.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="494.5" y1="1350.0234" y2="1571.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="641" x2="641" y1="38.2969" y2="1296.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="641" x2="641" y1="1296.4141" y2="1350.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="641" x2="641" y1="1350.0234" y2="1571.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="817" x2="817" y1="38.2969" y2="1296.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="817" x2="817" y1="1296.4141" y2="1350.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="817" x2="817" y1="1350.0234" y2="1571.7578"/><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="33" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="40" y="22.9951">SgClient</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="33" y="1570.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="40" y="1590.7529">SgClient</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="49" x="256" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="263" y="22.9951">Tooz</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="49" x="256" y="1570.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="263" y="1590.7529">Tooz</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="454.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="461.5" y="22.9951">SgServer</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="454.5" y="1570.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="461.5" y="1590.7529">SgServer</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="578" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="585" y="22.9951">OtherSgServers</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="578" y="1570.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="585" y="1590.7529">OtherSgServers</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="798" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="805" y="22.9951">DB</text><rect fill="#FEFECE" filter="url(#f1lgphy)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="798" y="1570.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="805" y="1590.7529">DB</text><rect fill="none" height="185.7969" style="stroke: #000000; stroke-width: 2.0;" width="296" x="23" y="55.2969"/><polygon fill="#EEEEEE" points="23,55.2969,132,55.2969,132,62.2969,122,72.2969,23,72.2969,23,55.2969" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="38" y="68.3638">getNode</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="112.5" y1="93.5625" y2="93.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112.5" x2="112.5" y1="93.5625" y2="106.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="112.5" y1="106.5625" y2="106.5625"/><polygon fill="#A80036" points="81.5,102.5625,71.5,106.5625,81.5,110.5625,77.5,106.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="77.5" y="88.4966">GetPartitionId(vol)</text><polygon fill="#A80036" points="270.5,131.5625,280.5,135.5625,270.5,139.5625,274.5,135.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="276.5" y1="135.5625" y2="135.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="77.5" y="130.6294">GetOneSgServer(partitionId)</text><polygon fill="#FBFB77" filter="url(#f1lgphy)" points="151,148.6953,151,173.6953,273,173.6953,273,158.6953,263,148.6953,151,148.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="263" y1="148.6953" y2="158.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="263" y1="158.6953" y2="158.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="157" y="165.7622">consistent hash</text><polygon fill="#A80036" points="81.5,199.8281,71.5,203.8281,81.5,207.8281,77.5,203.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="281.5" y1="203.8281" y2="203.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="87.5" y="198.895">SgserverInfo</text><polygon fill="#A80036" points="81.5,228.9609,71.5,232.9609,81.5,236.9609,77.5,232.9609" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="270.5,228.9609,280.5,232.9609,270.5,236.9609,274.5,232.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="276.5" y1="232.9609" y2="232.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="87.5" y="228.0278">WatchGroupChange(callback)</text><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="469" x="246" y="255.0938"/><polygon fill="#EEEEEE" points="246,255.0938,323,255.0938,323,262.0938,313,272.0938,246,272.0938,246,255.0938" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="261" y="268.1606">loop</text><polygon fill="#A80036" points="293.5,289.2266,283.5,293.2266,293.5,297.2266,289.5,293.2266" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="482.5,289.2266,492.5,293.2266,482.5,297.2266,486.5,293.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="488.5" y1="293.2266" y2="293.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="299.5" y="288.2935">HeartBeat</text><polygon fill="#A80036" points="293.5,318.3594,283.5,322.3594,293.5,326.3594,289.5,322.3594" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="629.5,318.3594,639.5,322.3594,629.5,326.3594,633.5,322.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="635.5" y1="322.3594" y2="322.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="299.5" y="317.4263">HeartBeat</text><polygon fill="#A80036" points="293.5,354.4922,283.5,358.4922,293.5,362.4922,289.5,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="482.5,354.4922,492.5,358.4922,482.5,362.4922,486.5,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="488.5" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="299.5" y="353.5591">WatchGroupChange(callback)</text><polygon fill="#A80036" points="293.5,383.625,283.5,387.625,293.5,391.625,289.5,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="629.5,383.625,639.5,387.625,629.5,391.625,633.5,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="635.5" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="299.5" y="382.6919">WatchGroupChange(callback)</text><rect fill="none" height="304.4609" style="stroke: #000000; stroke-width: 2.0;" width="601" x="246" y="402.7578"/><polygon fill="#EEEEEE" points="246,402.7578,369,402.7578,369,409.7578,359,419.7578,246,419.7578,246,402.7578" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="261" y="415.8247">InitServers</text><polygon fill="#A80036" points="293.5,436.8906,283.5,440.8906,293.5,444.8906,289.5,440.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="493.5" y1="440.8906" y2="440.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="299.5" y="435.9575">GetPartitions(node)</text><polygon fill="#A80036" points="293.5,466.0234,283.5,470.0234,293.5,474.0234,289.5,470.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="640.5" y1="470.0234" y2="470.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="299.5" y="465.0903">GetPartitions(node)</text><polygon fill="#A80036" points="482.5,495.1563,492.5,499.1563,482.5,503.1563,486.5,499.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="488.5" y1="499.1563" y2="499.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="289.5" y="494.2231">Partitions</text><polygon fill="#A80036" points="629.5,524.2891,639.5,528.2891,629.5,532.2891,633.5,528.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="635.5" y1="528.2891" y2="528.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="289.5" y="523.356">Partitions</text><polygon fill="#FBFB77" filter="url(#f1lgphy)" points="618,541.4219,618,581.4219,808,581.4219,808,551.4219,798,541.4219,618,541.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="798" x2="798" y1="541.4219" y2="551.4219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="808" x2="798" y1="551.4219" y2="551.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="624" y="558.4888">partition1[vol1,vol2...]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="624" y="573.6216">partitionN[volN1,vol1N2...]</text><polygon fill="#A80036" points="805.5,607.6875,815.5,611.6875,805.5,615.6875,809.5,611.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="811.5" y1="611.6875" y2="611.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="501.5" y="606.7544">LoadMetadata</text><polygon fill="#A80036" points="805.5,636.8203,815.5,640.8203,805.5,644.8203,809.5,640.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="641.5" x2="811.5" y1="640.8203" y2="640.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="648.5" y="635.8872">LoadMetadata</text><polygon fill="#A80036" points="505.5,665.9531,495.5,669.9531,505.5,673.9531,501.5,669.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="499.5" x2="816.5" y1="669.9531" y2="669.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="511.5" y="665.02">Metadata</text><polygon fill="#A80036" points="652.5,695.0859,642.5,699.0859,652.5,703.0859,648.5,699.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="646.5" x2="816.5" y1="699.0859" y2="699.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="658.5" y="694.1528">Metadata</text><rect fill="none" height="833.5391" style="stroke: #000000; stroke-width: 2.0;" width="844" x="13" y="721.2188"/><polygon fill="#EEEEEE" points="13,721.2188,77,721.2188,77,728.2188,67,738.2188,13,738.2188,13,721.2188" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="734.2856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="92" y="733.4292">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="97" y="733.4292">normal case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="175" y="733.4292">]</text><rect fill="none" height="175.7969" style="stroke: #000000; stroke-width: 2.0;" width="824" x="23" y="745.3516"/><polygon fill="#EEEEEE" points="23,745.3516,142,745.3516,142,752.3516,132,762.3516,23,762.3516,23,745.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="38" y="758.4185">volumeOp</text><polygon fill="#A80036" points="482.5,779.4844,492.5,783.4844,482.5,787.4844,486.5,783.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="488.5" y1="783.4844" y2="783.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="77.5" y="778.5513">GetMetadata</text><polygon fill="#A80036" points="81.5,808.6172,71.5,812.6172,81.5,816.6172,77.5,812.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="493.5" y1="812.6172" y2="812.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="87.5" y="807.6841">Metadata</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="112.5" y1="841.8828" y2="841.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112.5" x2="112.5" y1="841.8828" y2="854.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71.5" x2="112.5" y1="854.8828" y2="854.8828"/><polygon fill="#A80036" points="81.5,850.8828,71.5,854.8828,81.5,858.8828,77.5,854.8828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="77.5" y="836.8169">OperateVolume</text><polygon fill="#A80036" points="482.5,879.8828,492.5,883.8828,482.5,887.8828,486.5,883.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="488.5" y1="883.8828" y2="883.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="77.5" y="878.9497">UpdateMetadata</text><polygon fill="#A80036" points="805.5,909.0156,815.5,913.0156,805.5,917.0156,809.5,913.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="811.5" y1="913.0156" y2="913.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="501.5" y="908.0825">UpdateMetadata</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="857" y1="929.1484" y2="929.1484"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="18" y="939.3589">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="23" y="939.3589">failover case</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="106" y="939.3589">]</text><polygon fill="#FBFB77" filter="url(#f1lgphy)" points="251,947.9531,251,972.9531,524,972.9531,524,957.9531,514,947.9531,251,947.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="514" y1="947.9531" y2="957.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="524" x2="514" y1="957.9531" y2="957.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="323.75" y="965.02">heart beat broken</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="324.5" y1="1003.2188" y2="1003.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324.5" x2="324.5" y1="1003.2188" y2="1016.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283.5" x2="324.5" y1="1016.2188" y2="1016.2188"/><polygon fill="#A80036" points="293.5,1012.2188,283.5,1016.2188,293.5,1020.2188,289.5,1016.2188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="289.5" y="998.1528">ReBalancePartition(hashring)</text><polygon fill="#A80036" points="293.5,1041.2188,283.5,1045.2188,293.5,1049.2188,289.5,1045.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="640.5" y1="1045.2188" y2="1045.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="299.5" y="1040.2856">GetPartitionsInfoOfDeadSgServer</text><polygon fill="#A80036" points="629.5,1070.3516,639.5,1074.3516,629.5,1078.3516,633.5,1074.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="635.5" y1="1074.3516" y2="1074.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="289.5" y="1069.4185">PartitionsInfoOfDeadSgServer</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="282.5" x2="324.5" y1="1103.6172" y2="1103.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324.5" x2="324.5" y1="1103.6172" y2="1116.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283.5" x2="324.5" y1="1116.6172" y2="1116.6172"/><polygon fill="#A80036" points="293.5,1112.6172,283.5,1116.6172,293.5,1120.6172,289.5,1116.6172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="289.5" y="1098.5513">RemoveSgServerInfo</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="536.5" y1="1160.8828" y2="1160.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="536.5" x2="536.5" y1="1160.8828" y2="1173.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495.5" x2="536.5" y1="1173.8828" y2="1173.8828"/><polygon fill="#A80036" points="505.5,1169.8828,495.5,1173.8828,505.5,1177.8828,501.5,1173.8828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="501.5" y="1140.6841">DealWithOngoingReq</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="501.5" y="1155.8169">if node alive</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="536.5" y1="1218.1484" y2="1218.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="536.5" x2="536.5" y1="1218.1484" y2="1231.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495.5" x2="536.5" y1="1231.1484" y2="1231.1484"/><polygon fill="#A80036" points="505.5,1227.1484,495.5,1231.1484,505.5,1235.1484,501.5,1231.1484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="501.5" y="1197.9497">KillBackgroudTask</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="501.5" y="1213.0825">if node alive</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.5" x2="536.5" y1="1275.4141" y2="1275.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="536.5" x2="536.5" y1="1275.4141" y2="1288.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495.5" x2="536.5" y1="1288.4141" y2="1288.4141"/><polygon fill="#A80036" points="505.5,1284.4141,495.5,1288.4141,505.5,1292.4141,501.5,1288.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="501.5" y="1255.2153">DisconnectWithDB</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="501.5" y="1270.3481">if node alive</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="398.5" y="1320.6245">wait N seconds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="365" y="1333.4292">to ensure SgServer dead out</text><polygon fill="#A80036" points="805.5,1367.0234,815.5,1371.0234,805.5,1375.0234,809.5,1371.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="641.5" x2="811.5" y1="1371.0234" y2="1371.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="648.5" y="1366.0903">LoadPartitionsMetadata</text><polygon fill="#A80036" points="652.5,1396.1563,642.5,1400.1563,652.5,1404.1563,648.5,1400.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="646.5" x2="816.5" y1="1400.1563" y2="1400.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="658.5" y="1395.2231">MetadataOfPartitions</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="641.5" x2="683.5" y1="1444.5547" y2="1444.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="1444.5547" y2="1457.5547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="642.5" x2="683.5" y1="1457.5547" y2="1457.5547"/><polygon fill="#A80036" points="652.5,1453.5547,642.5,1457.5547,652.5,1461.5547,648.5,1457.5547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="648.5" y="1424.356">TakeOverVolumes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="648.5" y="1439.4888">BelongToDeadSgServer</text><rect fill="#FFFFFF" filter="url(#f1lgphy)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="278" x="30" y="1465.5547"/><polygon fill="#EEEEEE" points="30,1465.5547,96,1465.5547,96,1472.5547,86,1482.5547,30,1482.5547,30,1465.5547" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="43" y="1479.6216">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="143.5" y="1498.6216">getNode</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="857" y1="1511.8203" y2="1511.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="18" y="1522.0308">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="23" y="1522.0308">another type of failure</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="168" y="1522.0308">]</text><polygon fill="#A80036" points="81.5,1542.625,71.5,1546.625,81.5,1550.625,77.5,1546.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="493.5" y1="1546.625" y2="1546.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="87.5" y="1541.6919">Please repeat</text></g></svg>